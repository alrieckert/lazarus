Index: components/cgi/ide/cgilazide.pas
===================================================================
--- components/cgi/ide/cgilazide.pas	(revision 23296)
+++ components/cgi/ide/cgilazide.pas	(working copy)
@@ -1,13 +1,13 @@
-{ This file was automatically created by Lazarus. Do not edit!
-This source is only used to compile and install the package.
+{ This file was automatically created by Lazarus. do not edit!
+  This source is only used to compile and install the package.
  }
 
-unit CGILazIDE; 
+unit cgilazide; 
 
 interface
 
 uses
-  CGILazIDEIntf, LazarusPackageIntf; 
+  CGILazIDEIntf, LazarusPackageIntf;
 
 implementation
 
Index: components/cgi/ide/Makefile
===================================================================
--- components/cgi/ide/Makefile	(revision 23296)
+++ components/cgi/ide/Makefile	(working copy)
@@ -1,5 +1,5 @@
 #
-# Don't edit, this file is generated by FPCMake Version 2.0.0 [2008/09/11]
+# Don't edit, this file is generated by FPCMake Version 2.0.0 [2009/11/02]
 #
 default: all
 MAKEFILETARGETS=i386-linux i386-go32v2 i386-win32 i386-os2 i386-freebsd i386-beos i386-haiku i386-netbsd i386-solaris i386-qnx i386-netware i386-openbsd i386-wdosx i386-darwin i386-emx i386-watcom i386-netwlibc i386-wince i386-embedded i386-symbian m68k-linux m68k-freebsd m68k-netbsd m68k-amiga m68k-atari m68k-openbsd m68k-palmos m68k-embedded powerpc-linux powerpc-netbsd powerpc-amiga powerpc-macos powerpc-darwin powerpc-morphos powerpc-embedded sparc-linux sparc-netbsd sparc-solaris sparc-embedded x86_64-linux x86_64-freebsd x86_64-darwin x86_64-win64 x86_64-embedded arm-linux arm-palmos arm-darwin arm-wince arm-gba arm-nds arm-embedded arm-symbian powerpc64-linux powerpc64-darwin powerpc64-embedded avr-embedded armeb-linux armeb-embedded
@@ -59,9 +59,11 @@
 endif
 ifdef COMSPEC
 ifneq ($(findstring $(OS_SOURCE),$(OSNeedsComspecToRunBatch)),)
+ifndef RUNBATCH
 RUNBATCH=$(COMSPEC) /C
 endif
 endif
+endif
 ifdef inUnix
 PATHSEP=/
 else
@@ -114,7 +116,11 @@
 endif
 ifneq ($(findstring Error,$(FPC)),)
 override FPC=$(firstword $(strip $(wildcard $(addsuffix /ppc386$(SRCEXEEXT),$(SEARCHPATH)))))
+else
+ifeq ($(strip $(wildcard $(FPC))),)
+FPC:=$(firstword $(FPCPROG))
 endif
+endif
 else
 override FPC=$(firstword $(strip $(wildcard $(addsuffix /ppc386$(SRCEXEEXT),$(SEARCHPATH)))))
 endif
@@ -972,178 +978,178 @@
 override COMPILER_INCLUDEDIR+=./
 endif
 ifeq ($(FULL_TARGET),i386-linux)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-go32v2)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-win32)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-os2)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-freebsd)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-beos)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-haiku)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-netbsd)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-solaris)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-qnx)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-netware)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-openbsd)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-wdosx)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-darwin)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-emx)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-watcom)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-netwlibc)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-wince)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-embedded)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-symbian)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),m68k-linux)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),m68k-freebsd)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),m68k-netbsd)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),m68k-amiga)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),m68k-atari)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),m68k-openbsd)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),m68k-palmos)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),m68k-embedded)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),powerpc-linux)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),powerpc-netbsd)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),powerpc-amiga)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),powerpc-macos)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),powerpc-darwin)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),powerpc-morphos)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),powerpc-embedded)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),sparc-linux)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),sparc-netbsd)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),sparc-solaris)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),sparc-embedded)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),x86_64-linux)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),x86_64-freebsd)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),x86_64-darwin)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),x86_64-win64)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),x86_64-embedded)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),arm-linux)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),arm-palmos)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),arm-darwin)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),arm-wince)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),arm-gba)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),arm-nds)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),arm-embedded)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),arm-symbian)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),powerpc64-linux)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),powerpc64-darwin)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),powerpc64-embedded)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),avr-embedded)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),armeb-linux)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),armeb-embedded)
-override COMPILER_UNITDIR+=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+override COMPILER_UNITDIR+=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 endif
 ifeq ($(FULL_TARGET),i386-linux)
 override COMPILER_UNITTARGETDIR+=lib/$(CPU_TARGET)-$(OS_TARGET)
@@ -1537,6 +1543,7 @@
 ifeq ($(OS_TARGET),go32v2)
 STATICLIBPREFIX=
 SHORTSUFFIX=dos
+IMPORTLIBPREFIX=
 endif
 ifeq ($(OS_TARGET),watcom)
 STATICLIBPREFIX=
@@ -1544,6 +1551,7 @@
 ASMEXT=.asm
 SHAREDLIBEXT=.dll
 SHORTSUFFIX=wat
+IMPORTLIBPREFIX=
 endif
 ifeq ($(OS_TARGET),linux)
 BATCHEXT=.sh
@@ -1580,6 +1588,7 @@
 SHAREDLIBEXT=.dll
 SHORTSUFFIX=os2
 ECHO=echo
+IMPORTLIBPREFIX=
 endif
 ifeq ($(OS_TARGET),emx)
 BATCHEXT=.cmd
@@ -1588,6 +1597,7 @@
 SHAREDLIBEXT=.dll
 SHORTSUFFIX=emx
 ECHO=echo
+IMPORTLIBPREFIX=
 endif
 ifeq ($(OS_TARGET),amiga)
 EXEEXT=
@@ -1627,17 +1637,20 @@
 EXEEXT=.nlm
 STATICLIBPREFIX=
 SHORTSUFFIX=nw
+IMPORTLIBPREFIX=imp
 endif
 ifeq ($(OS_TARGET),netwlibc)
 EXEEXT=.nlm
 STATICLIBPREFIX=
 SHORTSUFFIX=nwl
+IMPORTLIBPREFIX=imp
 endif
 ifeq ($(OS_TARGET),macos)
 BATCHEXT=
 EXEEXT=
 DEBUGSYMEXT=.xcoff
 SHORTSUFFIX=mac
+IMPORTLIBPREFIX=imp
 endif
 ifeq ($(OS_TARGET),darwin)
 BATCHEXT=.sh
@@ -1664,14 +1677,17 @@
 SHAREDLIBEXT=.so1
 STATICLIBPREFIX=
 SHORTSUFFIX=v1
+IMPORTLIBPREFIX=
 endif
 ifeq ($(OS_TARGET),go32v2)
 STATICLIBPREFIX=
 SHORTSUFFIX=dos
+IMPORTLIBPREFIX=
 endif
 ifeq ($(OS_TARGET),watcom)
 STATICLIBPREFIX=
 SHORTSUFFIX=wat
+IMPORTLIBPREFIX=
 endif
 ifeq ($(OS_TARGET),linux)
 BATCHEXT=.sh
@@ -1718,6 +1734,7 @@
 SHAREDLIBEXT=.dll
 SHORTSUFFIX=os2
 ECHO=echo
+IMPORTLIBPREFIX=
 endif
 ifeq ($(OS_TARGET),amiga)
 EXEEXT=
@@ -1778,6 +1795,7 @@
 SHAREDLIBEXT=.nlm
 EXEEXT=.nlm
 SHORTSUFFIX=nw
+IMPORTLIBPREFIX=imp
 endif
 ifeq ($(OS_TARGET),netwlibc)
 STATICLIBPREFIX=
@@ -1789,6 +1807,7 @@
 SHAREDLIBEXT=.nlm
 EXEEXT=.nlm
 SHORTSUFFIX=nwl
+IMPORTLIBPREFIX=imp
 endif
 ifeq ($(OS_TARGET),macos)
 BATCHEXT=
@@ -1800,6 +1819,7 @@
 EXEEXT=
 DEBUGSYMEXT=.xcoff
 SHORTSUFFIX=mac
+IMPORTLIBPREFIX=imp
 endif
 endif
 ifneq ($(findstring $(OS_SOURCE),$(LIMIT83fs)),)
Index: components/cgi/ide/Makefile.fpc
===================================================================
--- components/cgi/ide/Makefile.fpc	(revision 23296)
+++ components/cgi/ide/Makefile.fpc	(working copy)
@@ -2,7 +2,7 @@
 #
 #   Makefile.fpc for CGILazIDE 0.0
 #
-#   This file was generated on 25-9-2008
+#   This file was generated on 16.12.2009
 
 [package]
 name=cgilazide
@@ -10,7 +10,7 @@
 
 [compiler]
 unittargetdir=lib/$(CPU_TARGET)-$(OS_TARGET)
-unitdir=../lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
+unitdir=../../../../../lazarus/components/cgi/lib/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../ideintf/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/ ../../../lcl/units/$(CPU_TARGET)-$(OS_TARGET)/$(LCL_PLATFORM)/ ../../../packager/units/$(CPU_TARGET)-$(OS_TARGET)/ ./
 includedir=./
 options=-dLCL -dLCL$(LCL_PLATFORM) -MObjFPC -Scgi
 
Index: components/rtticontrols/runtimetypeinfocontrols.pas
===================================================================
--- components/rtticontrols/runtimetypeinfocontrols.pas	(revision 23296)
+++ components/rtticontrols/runtimetypeinfocontrols.pas	(working copy)
@@ -1,13 +1,13 @@
-{ Diese Datei wurde automatisch von Lazarus erzeugt. Sie darf nicht bearbeitet werden!
-Dieser Quelltext dient nur dem Übersetzen und Installieren des Packages.
+{ This file was automatically created by Lazarus. do not edit!
+  This source is only used to compile and install the package.
  }
 
-unit RunTimeTypeInfoControls; 
+unit runtimetypeinfocontrols; 
 
 interface
 
 uses
-  RTTICtrls, RTTIGrids, LazarusPackageIntf; 
+  RTTICtrls, RTTIGrids, LazarusPackageIntf;
 
 implementation
 
Index: components/tachart/tachartlazaruspkg.pas
===================================================================
--- components/tachart/tachartlazaruspkg.pas	(revision 23296)
+++ components/tachart/tachartlazaruspkg.pas	(working copy)
@@ -1,4 +1,4 @@
-{ This file was automatically created by Lazarus. do not edit ! 
+{ This file was automatically created by Lazarus. do not edit!
   This source is only used to compile and install the package.
  }
 
Index: components/tdbf/dbflaz.pas
===================================================================
--- components/tdbf/dbflaz.pas	(revision 23296)
+++ components/tdbf/dbflaz.pas	(working copy)
@@ -1,13 +1,13 @@
-{ This file was automatically created by Lazarus. Do not edit!
-This source is only used to compile and install the package.
+{ This file was automatically created by Lazarus. do not edit!
+  This source is only used to compile and install the package.
  }
 
-unit DBFLaz; 
+unit dbflaz; 
 
 interface
 
 uses
-  RegisterDBF, Dbf, LazarusPackageIntf; 
+  RegisterDBF, Dbf, LazarusPackageIntf;
 
 implementation
 
Index: designer/objinspext.pas
===================================================================
--- designer/objinspext.pas	(revision 23296)
+++ designer/objinspext.pas	(working copy)
@@ -77,6 +77,9 @@
 
 implementation
 
+uses
+  uMakeSite;
+
 function CreateDefaultOIFavouriteProperties: TOIFavouriteProperties;
 
   procedure Add(ABaseClass: TPersistentClass; const APropertyName: string);
@@ -200,7 +203,7 @@
       end;
     except
       on E: Exception do begin
-        debugln('Error: LoadOIFavouriteProperties: unable to write ',
+        debugln('Error: SaveOIFavouriteProperties: unable to write ',
                 GetOIFavouriteConfigFilename);
       end;
     end;
Index: ide/codeexplorer.lfm
===================================================================
--- ide/codeexplorer.lfm	(revision 23296)
+++ ide/codeexplorer.lfm	(working copy)
@@ -25,14 +25,14 @@
     TabOrder = 0
     object CodePage: TPage
       Caption = 'CodePage'
-      ClientWidth = 213
-      ClientHeight = 488
+      ClientWidth = 207
+      ClientHeight = 489
       object CodeTreeview: TTreeView
         AnchorSideTop.Side = asrBottom
         Left = 0
-        Height = 462
+        Height = 463
         Top = 26
-        Width = 213
+        Width = 207
         Align = alClient
         BorderSpacing.Top = 1
         HideSelection = False
@@ -50,14 +50,14 @@
         Left = 0
         Height = 25
         Top = 0
-        Width = 213
+        Width = 207
         Align = alTop
         BevelOuter = bvNone
         ClientHeight = 25
-        ClientWidth = 213
+        ClientWidth = 207
         TabOrder = 1
         object OptionsSpeedButton: TSpeedButton
-          Left = 186
+          Left = 180
           Height = 22
           Hint = 'Options for CodeExplorer'
           Top = 1
@@ -70,7 +70,7 @@
           ParentShowHint = False
         end
         object RefreshSpeedButton: TSpeedButton
-          Left = 138
+          Left = 132
           Height = 22
           Hint = 'Refresh CodeExplorer'
           Top = 1
@@ -83,7 +83,7 @@
           ParentShowHint = False
         end
         object ModeSpeedButton: TSpeedButton
-          Left = 162
+          Left = 156
           Height = 22
           Top = 1
           Width = 23
@@ -102,7 +102,7 @@
           Left = 0
           Height = 23
           Top = 0
-          Width = 136
+          Width = 130
           Anchors = [akTop, akLeft, akRight]
           OnChange = CodeFilterEditChange
           TabOrder = 0
@@ -112,17 +112,17 @@
     end
     object DirectivesPage: TPage
       Caption = 'DirectivesPage'
-      ClientWidth = 213
-      ClientHeight = 488
+      ClientWidth = 207
+      ClientHeight = 489
       object DirectivesFilterEdit: TEdit
         AnchorSideLeft.Control = DirectivesPage
         AnchorSideTop.Control = DirectivesPage
         AnchorSideRight.Control = DirectivesPage
         AnchorSideRight.Side = asrBottom
         Left = 0
-        Height = 27
+        Height = 21
         Top = 0
-        Width = 213
+        Width = 207
         Anchors = [akTop, akLeft, akRight]
         OnChange = DirectivesFilterEditChange
         TabOrder = 0
@@ -132,13 +132,13 @@
         AnchorSideTop.Control = DirectivesFilterEdit
         AnchorSideTop.Side = asrBottom
         Left = 0
-        Height = 460
-        Top = 28
-        Width = 213
+        Height = 467
+        Top = 22
+        Width = 207
         Align = alBottom
         Anchors = [akTop, akLeft, akRight, akBottom]
         BorderSpacing.Top = 1
-        DefaultItemHeight = 19
+        DefaultItemHeight = 15
         PopupMenu = TreePopupmenu
         ReadOnly = True
         TabOrder = 1
Index: ide/codeexplorer.lrs
===================================================================
--- ide/codeexplorer.lrs	(revision 23296)
+++ ide/codeexplorer.lrs	(working copy)
@@ -10,9 +10,9 @@
   +'asrBottom'#4'Left'#2#0#6'Height'#3#3#2#3'Top'#2#2#5'Width'#3#215#0#5'Align'
   +#7#8'alClient'#17'BorderSpacing.Top'#2#2#13'OnPageChanged'#7#23'MainNotebook'
   +'PageChanged'#9'PageIndex'#2#1#8'TabOrder'#2#0#0#5'TPage'#8'CodePage'#7'Capt'
-  +'ion'#6#8'CodePage'#11'ClientWidth'#3#213#0#12'ClientHeight'#3#232#1#0#9'TTr'
+  +'ion'#6#8'CodePage'#11'ClientWidth'#3#207#0#12'ClientHeight'#3#233#1#0#9'TTr'
   +'eeView'#12'CodeTreeview'#18'AnchorSideTop.Side'#7#9'asrBottom'#4'Left'#2#0#6
-  +'Height'#3#206#1#3'Top'#2#26#5'Width'#3#213#0#5'Align'#7#8'alClient'#17'Bord'
+  +'Height'#3#207#1#3'Top'#2#26#5'Width'#3#207#0#5'Align'#7#8'alClient'#17'Bord'
   +'erSpacing.Top'#2#1#13'HideSelection'#8#6'Images'#7#10'Imagelist1'#9'PopupMe'
   +'nu'#7#13'TreePopupmenu'#8'ReadOnly'#9#16'RightClickSelect'#9#8'TabOrder'#2#0
   +#10'OnDblClick'#7#20'CodeTreeviewDblClick'#10'OnDeletion'#7#20'CodeTreeviewD'
@@ -20,36 +20,36 @@
   +'ght'#21'tvoKeepCollapsedNodes'#11'tvoReadOnly'#19'tvoRightClickSelect'#14't'
   +'voShowButtons'#12'tvoShowLines'#11'tvoShowRoot'#11'tvoToolTips'#22'tvoNoDou'
   +'bleClickExpand'#0#0#0#6'TPanel'#23'CodeTreeviewButtonPanel'#4'Left'#2#0#6'H'
-  +'eight'#2#25#3'Top'#2#0#5'Width'#3#213#0#5'Align'#7#5'alTop'#10'BevelOuter'#7
-  +#6'bvNone'#12'ClientHeight'#2#25#11'ClientWidth'#3#213#0#8'TabOrder'#2#1#0#12
-  +'TSpeedButton'#18'OptionsSpeedButton'#4'Left'#3#186#0#6'Height'#2#22#4'Hint'
+  +'eight'#2#25#3'Top'#2#0#5'Width'#3#207#0#5'Align'#7#5'alTop'#10'BevelOuter'#7
+  +#6'bvNone'#12'ClientHeight'#2#25#11'ClientWidth'#3#207#0#8'TabOrder'#2#1#0#12
+  +'TSpeedButton'#18'OptionsSpeedButton'#4'Left'#3#180#0#6'Height'#2#22#4'Hint'
   +#6#24'Options for CodeExplorer'#3'Top'#2#1#5'Width'#2#23#7'Anchors'#11#5'akT'
   +'op'#7'akRight'#0#5'Color'#7#9'clBtnFace'#9'NumGlyphs'#2#0#7'OnClick'#7#23'O'
   +'ptionsSpeedButtonClick'#8'ShowHint'#9#14'ParentShowHint'#8#0#0#12'TSpeedBut'
-  +'ton'#18'RefreshSpeedButton'#4'Left'#3#138#0#6'Height'#2#22#4'Hint'#6#20'Ref'
+  +'ton'#18'RefreshSpeedButton'#4'Left'#3#132#0#6'Height'#2#22#4'Hint'#6#20'Ref'
   +'resh CodeExplorer'#3'Top'#2#1#5'Width'#2#23#7'Anchors'#11#5'akTop'#7'akRigh'
   +'t'#0#5'Color'#7#9'clBtnFace'#9'NumGlyphs'#2#0#7'OnClick'#7#23'RefreshSpeedB'
   +'uttonClick'#8'ShowHint'#9#14'ParentShowHint'#8#0#0#12'TSpeedButton'#15'Mode'
-  +'SpeedButton'#4'Left'#3#162#0#6'Height'#2#22#3'Top'#2#1#5'Width'#2#23#7'Anch'
+  +'SpeedButton'#4'Left'#3#156#0#6'Height'#2#22#3'Top'#2#1#5'Width'#2#23#7'Anch'
   +'ors'#11#5'akTop'#7'akRight'#0#5'Color'#7#9'clBtnFace'#9'NumGlyphs'#2#0#7'On'
   +'Click'#7#20'ModeSpeedButtonClick'#8'ShowHint'#9#14'ParentShowHint'#8#0#0#5
   +'TEdit'#14'CodeFilterEdit'#22'AnchorSideLeft.Control'#7#8'CodePage'#21'Ancho'
   +'rSideTop.Control'#7#8'CodePage'#23'AnchorSideRight.Control'#7#8'CodePage'#20
   +'AnchorSideRight.Side'#7#9'asrBottom'#4'Left'#2#0#6'Height'#2#23#3'Top'#2#0#5
-  +'Width'#3#136#0#7'Anchors'#11#5'akTop'#6'akLeft'#7'akRight'#0#8'OnChange'#7
+  +'Width'#3#130#0#7'Anchors'#11#5'akTop'#6'akLeft'#7'akRight'#0#8'OnChange'#7
   +#20'CodeFilterEditChange'#8'TabOrder'#2#0#4'Text'#6#14'CodeFilterEdit'#0#0#0
   +#0#5'TPage'#14'DirectivesPage'#7'Caption'#6#14'DirectivesPage'#11'ClientWidt'
-  +'h'#3#213#0#12'ClientHeight'#3#232#1#0#5'TEdit'#20'DirectivesFilterEdit'#22
+  +'h'#3#207#0#12'ClientHeight'#3#233#1#0#5'TEdit'#20'DirectivesFilterEdit'#22
   +'AnchorSideLeft.Control'#7#14'DirectivesPage'#21'AnchorSideTop.Control'#7#14
   +'DirectivesPage'#23'AnchorSideRight.Control'#7#14'DirectivesPage'#20'AnchorS'
-  +'ideRight.Side'#7#9'asrBottom'#4'Left'#2#0#6'Height'#2#27#3'Top'#2#0#5'Width'
-  +#3#213#0#7'Anchors'#11#5'akTop'#6'akLeft'#7'akRight'#0#8'OnChange'#7#26'Dire'
+  +'ideRight.Side'#7#9'asrBottom'#4'Left'#2#0#6'Height'#2#21#3'Top'#2#0#5'Width'
+  +#3#207#0#7'Anchors'#11#5'akTop'#6'akLeft'#7'akRight'#0#8'OnChange'#7#26'Dire'
   +'ctivesFilterEditChange'#8'TabOrder'#2#0#4'Text'#6#20'DirectivesFilterEdit'#0
   +#0#9'TTreeView'#18'DirectivesTreeView'#21'AnchorSideTop.Control'#7#20'Direct'
   +'ivesFilterEdit'#18'AnchorSideTop.Side'#7#9'asrBottom'#4'Left'#2#0#6'Height'
-  +#3#204#1#3'Top'#2#28#5'Width'#3#213#0#5'Align'#7#8'alBottom'#7'Anchors'#11#5
+  +#3#211#1#3'Top'#2#22#5'Width'#3#207#0#5'Align'#7#8'alBottom'#7'Anchors'#11#5
   +'akTop'#6'akLeft'#7'akRight'#8'akBottom'#0#17'BorderSpacing.Top'#2#1#17'Defa'
-  +'ultItemHeight'#2#19#9'PopupMenu'#7#13'TreePopupmenu'#8'ReadOnly'#9#8'TabOrd'
+  +'ultItemHeight'#2#15#9'PopupMenu'#7#13'TreePopupmenu'#8'ReadOnly'#9#8'TabOrd'
   +'er'#2#1#10'OnDblClick'#7#26'DirectivesTreeViewDblClick'#10'OnDeletion'#7#26
   +'DirectivesTreeViewDeletion'#7'OnKeyUp'#7#23'DirectivesTreeViewKeyUp'#7'Opti'
   +'ons'#11#17'tvoAutoItemHeight'#16'tvoHideSelection'#21'tvoKeepCollapsedNodes'
Index: ide/codeexplorer.pas
===================================================================
--- ide/codeexplorer.pas	(revision 23296)
+++ ide/codeexplorer.pas	(working copy)
@@ -134,7 +134,9 @@
     RefreshSpeedButton: TSpeedButton;
     ModeSpeedButton: TSpeedButton;
     TreePopupmenu: TPopupMenu;
+    {$IFDEF EnableIdeDocking}
     ControlDocker: TLazControlDocker;
+    {$ENDIF}
     procedure CodeExplorerViewClose(Sender: TObject;
                                     var CloseAction: TCloseAction);
     procedure CodeExplorerViewCreate(Sender: TObject);
@@ -359,9 +361,9 @@
   Name:=NonModalIDEWindowNames[nmiwCodeExplorerName];
   Caption := lisMenuViewCodeExplorer;
   EnvironmentOptions.IDEWindowLayoutList.Apply(Self,Name);
+  {$IFDEF EnableIDEDocking}
   ControlDocker:=TLazControlDocker.Create(Self);
   ControlDocker.Name:='CodeExplorer';
-  {$IFDEF EnableIDEDocking}
   ControlDocker.Manager:=LazarusIDE.DockingManager;
   {$ENDIF}
 
@@ -467,7 +469,9 @@
 
 procedure TCodeExplorerView.DockingMenuItemClick(Sender: TObject);
 begin
+  {$IFDEF EnableIdeDocking}
   ControlDocker.ShowDockingEditor;
+  {$ENDIF}
 end;
 
 procedure TCodeExplorerView.IdleTimer1Timer(Sender: TObject);
Index: ide/fpdoceditwindow.lfm
===================================================================
--- ide/fpdoceditwindow.lfm	(revision 23296)
+++ ide/fpdoceditwindow.lfm	(working copy)
@@ -25,7 +25,7 @@
     OnPageChanged = PageControlChange
     object ShortTabSheet: TTabSheet
       Caption = 'ShortTabSheet'
-      ClientHeight = 98
+      ClientHeight = 100
       ClientWidth = 682
       object LinkLabel: TLabel
         AnchorSideTop.Control = LinkEdit
@@ -105,7 +105,7 @@
     end
     object InheritedTabSheet: TTabSheet
       Caption = 'InheritedTabSheet'
-      ClientHeight = 98
+      ClientHeight = 100
       ClientWidth = 682
       object InheritedShortLabel: TLabel
         Left = 0
@@ -178,11 +178,11 @@
     end
     object DescrTabSheet: TTabSheet
       Caption = 'DescrTabSheet'
-      ClientHeight = 98
+      ClientHeight = 100
       ClientWidth = 682
       object DescrMemo: TMemo
         Left = 0
-        Height = 94
+        Height = 96
         Top = 0
         Width = 680
         Align = alClient
@@ -198,11 +198,11 @@
     end
     object ErrorsTabSheet: TTabSheet
       Caption = 'ErrorsTabSheet'
-      ClientHeight = 98
+      ClientHeight = 100
       ClientWidth = 682
       object ErrorsMemo: TMemo
         Left = 0
-        Height = 94
+        Height = 96
         Top = 0
         Width = 680
         Align = alClient
@@ -218,11 +218,11 @@
     end
     object SeeAlsoTabSheet: TTabSheet
       Caption = 'SeeAlsoTabSheet'
-      ClientHeight = 98
+      ClientHeight = 100
       ClientWidth = 682
       object SeeAlsoMemo: TMemo
         Left = 0
-        Height = 98
+        Height = 100
         Top = 0
         Width = 682
         Align = alClient
@@ -236,7 +236,7 @@
     end
     object ExampleTabSheet: TTabSheet
       Caption = 'ExampleTabSheet'
-      ClientHeight = 98
+      ClientHeight = 100
       ClientWidth = 682
       object ExampleEdit: TEdit
         Left = 0
@@ -270,35 +270,35 @@
     end
     object TopicSheet: TTabSheet
       Caption = 'Topics'
-      ClientHeight = 98
+      ClientHeight = 100
       ClientWidth = 682
       object Panel1: TPanel
         Left = 512
-        Height = 98
+        Height = 100
         Top = 0
         Width = 170
         Align = alRight
         BorderSpacing.Left = 5
         BevelOuter = bvNone
-        ClientHeight = 98
+        ClientHeight = 100
         ClientWidth = 170
         TabOrder = 0
         object Panel2: TPanel
           Left = 0
-          Height = 25
+          Height = 23
           Top = 0
           Width = 170
           Align = alTop
           AutoSize = True
           BevelOuter = bvNone
-          ClientHeight = 25
+          ClientHeight = 23
           ClientWidth = 170
           TabOrder = 0
           object NewTopicButton: TButton
-            Left = 120
-            Height = 25
+            Left = 123
+            Height = 23
             Top = 0
-            Width = 50
+            Width = 47
             Align = alRight
             AutoSize = True
             Caption = 'New'
@@ -307,9 +307,9 @@
           end
           object NewTopicNameEdit: TEdit
             Left = 0
-            Height = 25
+            Height = 23
             Top = 0
-            Width = 115
+            Width = 118
             Align = alClient
             BorderSpacing.Right = 5
             OnEnter = TopicControlEnter
@@ -318,8 +318,8 @@
         end
         object TopicListBox: TListBox
           Left = 0
-          Height = 68
-          Top = 30
+          Height = 72
+          Top = 28
           Width = 170
           Align = alClient
           BorderSpacing.Top = 5
@@ -331,17 +331,17 @@
       end
       object Panel3: TPanel
         Left = 0
-        Height = 98
+        Height = 100
         Top = 0
         Width = 507
         Align = alClient
         BevelOuter = bvNone
-        ClientHeight = 98
+        ClientHeight = 100
         ClientWidth = 507
         TabOrder = 1
         object TopicShort: TEdit
           Left = 0
-          Height = 23
+          Height = 21
           Top = 0
           Width = 507
           Align = alTop
@@ -352,8 +352,8 @@
         end
         object TopicDescr: TMemo
           Left = 0
-          Height = 70
-          Top = 28
+          Height = 74
+          Top = 26
           Width = 507
           Align = alClient
           BorderSpacing.Top = 5
Index: ide/fpdoceditwindow.lrs
===================================================================
--- ide/fpdoceditwindow.lrs	(revision 23296)
+++ ide/fpdoceditwindow.lrs	(working copy)
@@ -10,7 +10,7 @@
   +'nt'#8'TabIndex'#2#6#8'TabOrder'#2#0#11'TabPosition'#7#8'tpBottom'#8'OnChang'
   +'e'#7#17'PageControlChange'#13'OnPageChanged'#7#17'PageControlChange'#0#9'TT'
   +'abSheet'#13'ShortTabSheet'#7'Caption'#6#13'ShortTabSheet'#12'ClientHeight'#2
-  +'b'#11'ClientWidth'#3#170#2#0#6'TLabel'#9'LinkLabel'#21'AnchorSideTop.Contro'
+  +'d'#11'ClientWidth'#3#170#2#0#6'TLabel'#9'LinkLabel'#21'AnchorSideTop.Contro'
   +'l'#7#8'LinkEdit'#18'AnchorSideTop.Side'#7#9'asrCenter'#4'Left'#2#6#6'Height'
   +#2#16#3'Top'#2#28#5'Width'#2'3'#17'BorderSpacing.Top'#2#6#7'Caption'#6#9'Lin'
   +'kLabel'#11'ParentColor'#8#0#0#6'TLabel'#10'ShortLabel'#22'AnchorSideLeft.Co'
@@ -36,7 +36,7 @@
   +'pacing.Top'#2#2#19'BorderSpacing.Right'#2#2#8'OnChange'#7#14'LinkEditChange'
   +#13'OnEditingDone'#7#19'LinkEditEditingDone'#8'TabOrder'#2#2#4'Text'#6#8'Lin'
   +'kEdit'#0#0#0#9'TTabSheet'#17'InheritedTabSheet'#7'Caption'#6#17'InheritedTa'
-  +'bSheet'#12'ClientHeight'#2'b'#11'ClientWidth'#3#170#2#0#6'TLabel'#19'Inheri'
+  +'bSheet'#12'ClientHeight'#2'd'#11'ClientWidth'#3#170#2#0#6'TLabel'#19'Inheri'
   +'tedShortLabel'#4'Left'#2#0#6'Height'#2#16#3'Top'#2#2#5'Width'#3#170#2#5'Ali'
   +'gn'#7#5'alTop'#17'BorderSpacing.Top'#2#2#7'Caption'#6#19'InheritedShortLabe'
   +'l'#11'ParentColor'#8#0#0#5'TEdit'#18'InheritedShortEdit'#22'AnchorSideLeft.'
@@ -61,23 +61,23 @@
   +'utton'#4'Left'#3'R'#1#6'Height'#2#25#3'Top'#2'1'#5'Width'#3#167#0#8'AutoSiz'
   +'e'#9#18'BorderSpacing.Left'#2#10#7'Caption'#6#24'AddLinkToInheritedButton'#7
   +'OnClick'#7#29'AddLinkToInheritedButtonClick'#8'TabOrder'#2#3#0#0#0#9'TTabSh'
-  +'eet'#13'DescrTabSheet'#7'Caption'#6#13'DescrTabSheet'#12'ClientHeight'#2'b'
-  +#11'ClientWidth'#3#170#2#0#5'TMemo'#9'DescrMemo'#4'Left'#2#0#6'Height'#2'^'#3
+  +'eet'#13'DescrTabSheet'#7'Caption'#6#13'DescrTabSheet'#12'ClientHeight'#2'd'
+  +#11'ClientWidth'#3#170#2#0#5'TMemo'#9'DescrMemo'#4'Left'#2#0#6'Height'#2'`'#3
   +'Top'#2#0#5'Width'#3#168#2#5'Align'#7#8'alClient'#19'BorderSpacing.Right'#2#2
   +#20'BorderSpacing.Bottom'#2#4#13'Lines.Strings'#1#6#9'DescrMemo'#0#8'OnChang'
   ,'e'#7#15'DescrMemoChange'#13'OnEditingDone'#7#20'DescrMemoEditingDone'#8'Tab'
   +'Order'#2#0#0#0#0#9'TTabSheet'#14'ErrorsTabSheet'#7'Caption'#6#14'ErrorsTabS'
-  +'heet'#12'ClientHeight'#2'b'#11'ClientWidth'#3#170#2#0#5'TMemo'#10'ErrorsMem'
-  +'o'#4'Left'#2#0#6'Height'#2'^'#3'Top'#2#0#5'Width'#3#168#2#5'Align'#7#8'alCl'
+  +'heet'#12'ClientHeight'#2'd'#11'ClientWidth'#3#170#2#0#5'TMemo'#10'ErrorsMem'
+  +'o'#4'Left'#2#0#6'Height'#2'`'#3'Top'#2#0#5'Width'#3#168#2#5'Align'#7#8'alCl'
   +'ient'#19'BorderSpacing.Right'#2#2#20'BorderSpacing.Bottom'#2#4#13'Lines.Str'
   +'ings'#1#6#10'ErrorsMemo'#0#8'OnChange'#7#16'ErrorsMemoChange'#13'OnEditingD'
   +'one'#7#21'ErrorsMemoEditingDone'#8'TabOrder'#2#0#0#0#0#9'TTabSheet'#15'SeeA'
-  +'lsoTabSheet'#7'Caption'#6#15'SeeAlsoTabSheet'#12'ClientHeight'#2'b'#11'Clie'
-  +'ntWidth'#3#170#2#0#5'TMemo'#11'SeeAlsoMemo'#4'Left'#2#0#6'Height'#2'b'#3'To'
+  +'lsoTabSheet'#7'Caption'#6#15'SeeAlsoTabSheet'#12'ClientHeight'#2'd'#11'Clie'
+  +'ntWidth'#3#170#2#0#5'TMemo'#11'SeeAlsoMemo'#4'Left'#2#0#6'Height'#2'd'#3'To'
   +'p'#2#0#5'Width'#3#170#2#5'Align'#7#8'alClient'#13'Lines.Strings'#1#6#11'See'
   +'AlsoMemo'#0#8'OnChange'#7#17'SeeAlsoMemoChange'#13'OnEditingDone'#7#22'SeeA'
   +'lsoMemoEditingDone'#8'TabOrder'#2#0#0#0#0#9'TTabSheet'#15'ExampleTabSheet'#7
-  +'Caption'#6#15'ExampleTabSheet'#12'ClientHeight'#2'b'#11'ClientWidth'#3#170#2
+  +'Caption'#6#15'ExampleTabSheet'#12'ClientHeight'#2'd'#11'ClientWidth'#3#170#2
   +#0#5'TEdit'#11'ExampleEdit'#4'Left'#2#0#6'Height'#2#23#3'Top'#2#0#5'Width'#3
   +#168#2#5'Align'#7#5'alTop'#10'AutoSelect'#8#19'BorderSpacing.Right'#2#2#8'On'
   +'Change'#7#17'ExampleEditChange'#13'OnEditingDone'#7#22'ExampleEditEditingDo'
@@ -88,27 +88,27 @@
   +'idth'#3#144#0#7'Anchors'#11#5'akTop'#7'akRight'#0#8'AutoSize'#9#20'BorderSp'
   +'acing.Around'#2#6#7'Caption'#6#19'BrowseExampleButton'#7'OnClick'#7#24'Brow'
   +'seExampleButtonClick'#8'TabOrder'#2#1#0#0#0#9'TTabSheet'#10'TopicSheet'#7'C'
-  +'aption'#6#6'Topics'#12'ClientHeight'#2'b'#11'ClientWidth'#3#170#2#0#6'TPane'
-  +'l'#6'Panel1'#4'Left'#3#0#2#6'Height'#2'b'#3'Top'#2#0#5'Width'#3#170#0#5'Ali'
+  +'aption'#6#6'Topics'#12'ClientHeight'#2'd'#11'ClientWidth'#3#170#2#0#6'TPane'
+  +'l'#6'Panel1'#4'Left'#3#0#2#6'Height'#2'd'#3'Top'#2#0#5'Width'#3#170#0#5'Ali'
   +'gn'#7#7'alRight'#18'BorderSpacing.Left'#2#5#10'BevelOuter'#7#6'bvNone'#12'C'
-  +'lientHeight'#2'b'#11'ClientWidth'#3#170#0#8'TabOrder'#2#0#0#6'TPanel'#6'Pan'
-  +'el2'#4'Left'#2#0#6'Height'#2#25#3'Top'#2#0#5'Width'#3#170#0#5'Align'#7#5'al'
-  +'Top'#8'AutoSize'#9#10'BevelOuter'#7#6'bvNone'#12'ClientHeight'#2#25#11'Clie'
+  +'lientHeight'#2'd'#11'ClientWidth'#3#170#0#8'TabOrder'#2#0#0#6'TPanel'#6'Pan'
+  +'el2'#4'Left'#2#0#6'Height'#2#23#3'Top'#2#0#5'Width'#3#170#0#5'Align'#7#5'al'
+  +'Top'#8'AutoSize'#9#10'BevelOuter'#7#6'bvNone'#12'ClientHeight'#2#23#11'Clie'
   +'ntWidth'#3#170#0#8'TabOrder'#2#0#0#7'TButton'#14'NewTopicButton'#4'Left'#2
-  +'x'#6'Height'#2#25#3'Top'#2#0#5'Width'#2'2'#5'Align'#7#7'alRight'#8'AutoSize'
+  +'{'#6'Height'#2#23#3'Top'#2#0#5'Width'#2'/'#5'Align'#7#7'alRight'#8'AutoSize'
   +#9#7'Caption'#6#3'New'#7'OnClick'#7#19'NewTopicButtonClick'#8'TabOrder'#2#0#0
-  +#0#5'TEdit'#16'NewTopicNameEdit'#4'Left'#2#0#6'Height'#2#25#3'Top'#2#0#5'Wid'
-  +'th'#2's'#5'Align'#7#8'alClient'#19'BorderSpacing.Right'#2#5#7'OnEnter'#7#17
+  +#0#5'TEdit'#16'NewTopicNameEdit'#4'Left'#2#0#6'Height'#2#23#3'Top'#2#0#5'Wid'
+  +'th'#2'v'#5'Align'#7#8'alClient'#19'BorderSpacing.Right'#2#5#7'OnEnter'#7#17
   +'TopicControlEnter'#8'TabOrder'#2#1#0#0#0#8'TListBox'#12'TopicListBox'#4'Lef'
-  +'t'#2#0#6'Height'#2'D'#3'Top'#2#30#5'Width'#3#170#0#5'Align'#7#8'alClient'#17
+  +'t'#2#0#6'Height'#2'H'#3'Top'#2#28#5'Width'#3#170#0#5'Align'#7#8'alClient'#17
   +'BorderSpacing.Top'#2#5#10'ItemHeight'#2#0#7'OnClick'#7#17'TopicListBoxClick'
   +#7'OnEnter'#7#17'TopicControlEnter'#8'TabOrder'#2#1#0#0#0#6'TPanel'#6'Panel3'
-  +#4'Left'#2#0#6'Height'#2'b'#3'Top'#2#0#5'Width'#3#251#1#5'Align'#7#8'alClien'
-  +'t'#10'BevelOuter'#7#6'bvNone'#12'ClientHeight'#2'b'#11'ClientWidth'#3#251#1
-  +#8'TabOrder'#2#1#0#5'TEdit'#10'TopicShort'#4'Left'#2#0#6'Height'#2#23#3'Top'
+  +#4'Left'#2#0#6'Height'#2'd'#3'Top'#2#0#5'Width'#3#251#1#5'Align'#7#8'alClien'
+  +'t'#10'BevelOuter'#7#6'bvNone'#12'ClientHeight'#2'd'#11'ClientWidth'#3#251#1
+  +#8'TabOrder'#2#1#0#5'TEdit'#10'TopicShort'#4'Left'#2#0#6'Height'#2#21#3'Top'
   +#2#0#5'Width'#3#251#1#5'Align'#7#5'alTop'#10'AutoSelect'#8#8'OnChange'#7#16
   +'TopicDescrChange'#7'OnEnter'#7#17'TopicControlEnter'#8'TabOrder'#2#0#0#0#5
-  +'TMemo'#10'TopicDescr'#4'Left'#2#0#6'Height'#2'F'#3'Top'#2#28#5'Width'#3#251
+  +'TMemo'#10'TopicDescr'#4'Left'#2#0#6'Height'#2'J'#3'Top'#2#26#5'Width'#3#251
   +#1#5'Align'#7#8'alClient'#17'BorderSpacing.Top'#2#5#8'OnChange'#7#16'TopicDe'
   +'scrChange'#7'OnEnter'#7#17'TopicControlEnter'#8'TabOrder'#2#1#0#0#0#0#0#6'T'
   +'Panel'#12'LeftBtnPanel'#4'Left'#2#0#6'Height'#2'~'#3'Top'#2#0#5'Width'#2'?'
Index: ide/fpdoceditwindow.pas
===================================================================
--- ide/fpdoceditwindow.pas	(revision 23296)
+++ ide/fpdoceditwindow.pas	(working copy)
@@ -69,7 +69,9 @@
     TopicListBox: TListBox;
     NewTopicNameEdit: TEdit;
     NewTopicButton: TButton;
+    {$IFDEF EnableIdeDocking}
     ControlDocker: TLazControlDocker;
+    {$ENDIF}
     CopyFromInheritedButton: TButton;
     CreateButton: TButton;
     DescrMemo: TMemo;
@@ -271,9 +273,9 @@
   
   Name := NonModalIDEWindowNames[nmiwFPDocEditorName];
   EnvironmentOptions.IDEWindowLayoutList.Apply(Self, Name);
+  {$IFDEF EnableIDEDocking}
   ControlDocker:=TLazControlDocker.Create(Self);
   ControlDocker.Name:='FPDocEditor';
-  {$IFDEF EnableIDEDocking}
   ControlDocker.Manager:=LazarusIDE.DockingManager;
   {$ENDIF}
 
Index: ide/include/ide.inc
===================================================================
--- ide/include/ide.inc	(revision 23296)
+++ ide/include/ide.inc	(working copy)
@@ -55,3 +55,4 @@
 
 // end.
 
+
Index: ide/lazarus.lpi
===================================================================
--- ide/lazarus.lpi	(revision 23296)
+++ ide/lazarus.lpi	(working copy)
@@ -17,6 +17,7 @@
       <Icon Value="0"/>
       <UseXPManifest Value="True"/>
     </General>
+    <LazDoc Paths="../docs/xml/ide"/>
     <PublishOptions>
       <Version Value="2"/>
       <IncludeFileFilter Value="*.(pas|pp|inc|lfm|lpr|lrs|lpi|lpk|sh|xml)"/>
@@ -29,21 +30,24 @@
         <LaunchingApplication PathPlusParams="/usr/X11R6/bin/xterm -T 'Lazarus Run Output' -e $(LazarusDir)/tools/runwait.sh $(TargetCmdLine)"/>
       </local>
     </RunParams>
-    <RequiredPackages Count="4">
+    <RequiredPackages Count="5">
       <Item1>
-        <PackageName Value="CodeTools"/>
+        <PackageName Value="EasyDockMgr"/>
       </Item1>
       <Item2>
-        <PackageName Value="IDEIntf"/>
+        <PackageName Value="CodeTools"/>
       </Item2>
       <Item3>
-        <PackageName Value="LCL"/>
+        <PackageName Value="IDEIntf"/>
       </Item3>
       <Item4>
+        <PackageName Value="LCL"/>
+      </Item4>
+      <Item5>
         <PackageName Value="SynEdit"/>
-      </Item4>
+      </Item5>
     </RequiredPackages>
-    <Units Count="52">
+    <Units Count="55">
       <Unit0>
         <Filename Value="lazarus.pp"/>
         <IsPartOfProject Value="True"/>
@@ -400,12 +404,27 @@
         <ResourceBaseClass Value="Form"/>
         <UnitName Value="AskCompNameDlg"/>
       </Unit51>
+      <Unit52>
+        <Filename Value="mainbase.pas"/>
+        <IsPartOfProject Value="True"/>
+        <UnitName Value="MainBase"/>
+      </Unit52>
+      <Unit53>
+        <Filename Value="mainintf.pas"/>
+        <IsPartOfProject Value="True"/>
+        <UnitName Value="MainIntf"/>
+      </Unit53>
+      <Unit54>
+        <Filename Value="dialogprocs.pas"/>
+        <IsPartOfProject Value="True"/>
+        <UnitName Value="DialogProcs"/>
+      </Unit54>
     </Units>
   </ProjectOptions>
   <CompilerOptions>
     <Version Value="8"/>
     <Target>
-      <Filename Value="../lazarus"/>
+      <Filename Value="../lazarus3"/>
     </Target>
     <SearchPaths>
       <IncludeFiles Value="include/"/>
@@ -418,12 +437,12 @@
       </SyntaxOptions>
     </Parsing>
     <Other>
+      <CustomOptions Value="-dDoDi -dSynDualView"/>
       <CompilerPath Value="$(CompPath)"/>
       <ExecuteBefore>
         <ScanForFPCMsgs Value="True"/>
         <ScanForMakeMsgs Value="True"/>
       </ExecuteBefore>
     </Other>
-    <CompileReasons Compile="False" Build="False" Run="False"/>
   </CompilerOptions>
 </CONFIG>
Index: ide/lazarus.pp
===================================================================
--- ide/lazarus.pp	(revision 23296)
+++ ide/lazarus.pp	(working copy)
@@ -90,7 +90,7 @@
   // end of build flags
   
   LazarusRevisionStr:=RevisionStr;
-  Application.Title:='Lazarus';
+  Application.Title:= {$IFDEF DoDi} 'DoDi ' +  {$ENDIF} 'Lazarus';
   Application.Initialize;
   TMainIDE.ParseCmdLineOptions;
   if Application.Terminated then exit;
Index: ide/main.pp
===================================================================
--- ide/main.pp	(revision 23296)
+++ ide/main.pp	(working copy)
@@ -63,7 +63,13 @@
   // lcl
   LCLProc, LCLMemManager, LCLType, LCLIntf, LConvEncoding, LMessages, ComCtrls,
   LResources, StdCtrls, Forms, Buttons, Menus, FileUtil, Controls, GraphType,
-  HelpIntfs, Graphics, ExtCtrls, Dialogs, InterfaceBase, LDockCtrl, UTF8Process,
+  HelpIntfs, Graphics, ExtCtrls, Dialogs, InterfaceBase,
+{$IFDEF EnableIdeDocking}
+  LDockCtrl,
+{$ELSE}
+  uMakeSite,
+{$ENDIF}
+  UTF8Process,
   // codetools
   CodeBeautifier, FindDeclarationTool, LinkScanner, BasicCodeTools, AVL_Tree,
   Laz_XMLCfg, CodeToolsStructs, CodeToolManager, CodeCache, DefineTemplates,
@@ -1191,7 +1197,16 @@
   {$IFDEF IDE_MEM_CHECK}CheckHeapWrtMemCnt('TMainIDE.Create INHERITED');{$ENDIF}
 
   FWaitForClose := False;
+  {$IFDEF EnableIdeDocking}
   FDockingManager:=TLazDockingManager.Create(Self);
+  {$ELSE}
+  { TODO -cdocking : create DockMaster - when? }
+  if assigned(OwningComponent) then begin
+    TDockMaster.Create(OwningComponent);
+    DockMaster.ForIDE := True; //try some workarounds
+  end else
+    DebugLn('--- no OwningComponent for create DockMaster');
+  {$ENDIF}
 
   SetupDialogs;
   RunExternalTool:=@OnRunExternalTool;
@@ -1226,7 +1241,7 @@
   // build and position the MainIDE form
   Application.CreateForm(TMainIDEBar,MainIDEBar);
   MainIDEBar.OnDestroy:=@OnMainBarDestroy;
-  {$IFNDEF IDEDocking}
+  {$IFNDEF EnableIDEDocking}
   MainIDEBar.Constraints.MaxHeight:=110;
   {$ENDIF}
   MainIDEBar.Name := NonModalIDEWindowNames[nmiwMainIDEName];
@@ -1294,6 +1309,9 @@
   Screen.AddHandlerRemoveForm(@OnScreenRemoveForm);
   SetupHints;
 
+{ TODO : register all forms }
+  RegisterClasses([TCodeExplorerView, TMessagesView, TObjectInspectorDlg]);
+
   // Now load a project
   SetupStartProject;
 
@@ -1371,7 +1389,9 @@
   DebugLn('[TMainIDE.Destroy] B  -> inherited Destroy... ',ClassName);
   {$IFDEF IDE_MEM_CHECK}CheckHeapWrtMemCnt('TMainIDE.Destroy B ');{$ENDIF}
   FreeThenNil(MainBuildBoss);
+  {$IFDEF EnableIdeDocking}
   FreeThenNil(FDockingManager);
+  {$ENDIF}
   inherited Destroy;
   {$IFDEF IDE_MEM_CHECK}CheckHeapWrtMemCnt('TMainIDE.Destroy C ');{$ENDIF}
 
@@ -1805,8 +1825,10 @@
 end;
 
 procedure TMainIDE.SetupObjectInspector;
+{$IFDEF EnableIdeDocking}
 var
   OIControlDocker: TLazControlDocker;
+{$ENDIF}
 begin
   ObjectInspector1 := TObjectInspectorDlg.Create(OwningComponent);
   ObjectInspector1.BorderStyle:=bsSizeable;
@@ -1826,9 +1848,9 @@
   ObjectInspector1.OnPropertyHint:=@OIOnPropertyHint;
   ObjectInspector1.OnDestroy:=@OIOnDestroy;
 
+  {$IFDEF EnableIDEDocking}
   OIControlDocker:=TLazControlDocker.Create(ObjectInspector1);
   OIControlDocker.Name:='ObjectInspector';
-  {$IFDEF EnableIDEDocking}
   OIControlDocker.Manager:=LazarusIDE.DockingManager;
   {$ENDIF}
   IDECmdScopeObjectInspectorOnly.AddWindowClass(TObjectInspectorDlg);
@@ -2092,11 +2114,17 @@
   FRemoteControlTimer.Enabled:=true;
 end;
 
+function GetLayoutFile: string;
+begin
+  Result := AppendPathDelim(GetPrimaryConfigPath) + 'default.lyt';
+end;
+
 procedure TMainIDE.ReOpenIDEWindows;
 var
   i: Integer;
   ALayout: TIDEWindowLayout;
   FormEnum: TNonModalIDEWindow;
+  fn: string;
 begin
   for i:=0 to EnvironmentOptions.IDEWindowLayoutList.Count-1 do begin
     ALayout:=EnvironmentOptions.IDEWindowLayoutList[i];
@@ -2132,6 +2160,13 @@
       ;//itmAssembler.OnClick(Self);
     end;
   end;
+{ TODO : load layout where? }
+  if assigned(DockMaster) then begin
+    fn := GetLayoutFile;
+    if FileExists(fn) then begin
+      DockMaster.LoadFromFile(fn);
+    end;
+  end;
 end;
 
 procedure TMainIDE.CloseIDEWindows;
@@ -2139,6 +2174,9 @@
   i: Integer;
   AForm: TCustomForm;
 begin
+{ TODO : save layout where? }
+  if assigned(DockMaster) then
+    DockMaster.SaveToFile(GetLayoutFile);
   i:=Screen.CustomFormCount-1;
   while i>=0 do begin
     AForm:=Screen.CustomForms[i];
@@ -16088,7 +16126,7 @@
 begin
   if (ALayout=nil) or (ALayout.Form=nil) then exit;
   // debugln('TMainIDE.OnApplyWindowLayout ',ALayout.Form.Name,' ',ALayout.Form.Classname,' ',IDEWindowPlacementNames[ALayout.WindowPlacement],' ',ALayout.CustomCoordinatesAreValid,' ',ALayout.Left,' ',ALayout.Top,' ',ALayout.Width,' ',ALayout.Height);
-  DockingAllowed:={$IFDEF IDEDocking}true{$ELSE}false{$ENDIF};
+  DockingAllowed:={$IFDEF EnableIDEDocking}true{$ELSE}false{$ENDIF};
   if DockingAllowed then begin
     ALayout.Form.Constraints.MaxHeight:=0;
   end;
@@ -16097,8 +16135,17 @@
   if DockingAllowed then begin
     if l in [nmiwSourceNoteBookName] then
       ALayout.WindowPlacement:=iwpDocked;
+  end else if assigned(DockMaster) then begin
+    { TODO -cdocking : make docker/dockable }
+    case l of
+    nmiwNone: ;
+    nmiwMainIDEName: DockMaster.AddElasticSites(ALayout.Form, [alBottom]);
+    nmiwSourceNoteBookName: DockMaster.AddElasticSites(ALayout.Form, [alLeft, alRight, alBottom]);
+    else
+      DockMaster.MakeDockable(ALayout.Form, True);
+      //DockMaster.MakeDockable(ALayout.Form, False);
   end;
-
+  end;
   case ALayout.WindowPlacement of
   iwpCustomPosition,iwpRestoreWindowGeometry:
     begin
@@ -16236,3 +16283,5 @@
 end.
 
 
+
+
Index: ide/mainbar.pas
===================================================================
--- ide/mainbar.pas	(revision 23296)
+++ ide/mainbar.pas	(working copy)
@@ -40,7 +40,10 @@
   MemCheck,
 {$ENDIF}
   Classes, SysUtils, LCLProc, StdCtrls, Forms, Controls, Buttons, Menus,
-  ComCtrls, ExtCtrls, Dialogs, LDockCtrl,
+  ComCtrls, ExtCtrls, Dialogs,
+{$IFDEF EnableIdeDocking}
+  LDockCtrl,
+{$ENDIF}
   // IDEIntf
   ProjectIntf, NewItemIntf, MenuIntf, LazIDEIntf,
   EnvironmentOpts, LazarusIDEStrConsts;
@@ -341,7 +344,9 @@
     procedure NewUFDefaultClick(Sender: TObject);
     procedure NewUnitFormPopupMenuPopup(Sender: TObject);
   public
+    {$IFDEF EnableIdeDocking}
     ControlDocker: TLazControlDocker;
+    {$ENDIF}
     constructor Create(TheOwner: TComponent); override;
     procedure HideIDE;
     procedure UnhideIDE;
@@ -424,9 +429,9 @@
 begin
   inherited Create(TheOwner);
 
+  {$IFDEF EnableIDEDocking}
   ControlDocker:=TLazControlDocker.Create(Self);
   ControlDocker.Name:='MainIDEBar';
-  {$IFDEF EnableIDEDocking}
   ControlDocker.Manager:=LazarusIDE.DockingManager;
   {$ENDIF}
 end;
Index: ide/msgview.pp
===================================================================
--- ide/msgview.pp	(revision 23296)
+++ ide/msgview.pp	(working copy)
@@ -133,7 +133,9 @@
     procedure Changed;
     procedure SetTVNodeImage(TVNode: TTreeNode; Msg: TLazMessageLine);
   public
+    {$IFDEF EnableIdeDocking}
     ControlDocker: TLazControlDocker;
+    {$ENDIF}
     constructor Create(TheOwner: TComponent); override;
     destructor Destroy; override;
     procedure BeginUpdateNotification(Sender: TObject);
@@ -344,9 +346,9 @@
   {$ENDIF}
 
   EnvironmentOptions.IDEWindowLayoutList.Apply(Self, Name);
+  {$IFDEF EnableIDEDocking}
   ControlDocker:=TLazControlDocker.Create(Self);
   ControlDocker.Name:='Messages';
-  {$IFDEF EnableIDEDocking}
   ControlDocker.Manager:=LazarusIDE.DockingManager;
   {$ENDIF}
 end;
@@ -932,7 +934,9 @@
 
 procedure TMessagesView.DockMenuItemClick(Sender: TObject);
 begin
+  {$IFDEF IdeDocking}
   ControlDocker.ShowDockingEditor;
+  {$ENDIF}
 end;
 
 procedure TMessagesView.FormDeactivate(Sender: TObject);
Index: ide/projectinspector.lfm
===================================================================
--- ide/projectinspector.lfm	(revision 23296)
+++ ide/projectinspector.lfm	(working copy)
@@ -9,7 +9,7 @@
   ClientHeight = 309
   ClientWidth = 433
   OnShow = ProjectInspectorFormShow
-  LCLVersion = '0.9.27'
+  LCLVersion = '0.9.29'
   object OpenBitBtn: TSpeedButton
     AnchorSideLeft.Control = Owner
     AnchorSideTop.Control = Owner
Index: ide/projectinspector.lrs
===================================================================
--- ide/projectinspector.lrs	(revision 23296)
+++ ide/projectinspector.lrs	(working copy)
@@ -1,11 +1,11 @@
-{ Ceci est un fichier ressource gÃ©nÃ©rÃ© automatiquement par Lazarus }
+{ This is an automatically generated lazarus resource file }
 
 LazarusResources.Add('TProjectInspectorForm','FORMDATA',[
   'TPF0'#21'TProjectInspectorForm'#20'ProjectInspectorForm'#4'Left'#3#201#1#6'H'
   +'eight'#3'5'#1#3'Top'#3#143#1#5'Width'#3#177#1#13'ActiveControl'#7#13'ItemsT'
   +'reeView'#11'BorderIcons'#11#12'biSystemMenu'#0#7'Caption'#6#20'ProjectInspe'
   +'ctorForm'#12'ClientHeight'#3'5'#1#11'ClientWidth'#3#177#1#6'OnShow'#7#24'Pr'
-  +'ojectInspectorFormShow'#10'LCLVersion'#6#6'0.9.27'#0#12'TSpeedButton'#10'Op'
+  +'ojectInspectorFormShow'#10'LCLVersion'#6#6'0.9.29'#0#12'TSpeedButton'#10'Op'
   +'enBitBtn'#22'AnchorSideLeft.Control'#7#5'Owner'#21'AnchorSideTop.Control'#7
   +#5'Owner'#4'Left'#2#0#6'Height'#2#23#3'Top'#2#0#5'Width'#2'<'#5'Color'#7#9'c'
   +'lBtnFace'#9'NumGlyphs'#2#0#7'OnClick'#7#15'OpenBitBtnClick'#8'ShowHint'#9#14
Index: ide/projectinspector.pas
===================================================================
--- ide/projectinspector.pas	(revision 23296)
+++ ide/projectinspector.pas	(working copy)
@@ -68,7 +68,10 @@
     OpenBitBtn: TSpeedButton;
     ItemsTreeView: TTreeView;
     ItemsPopupMenu: TPopupMenu;
+  {$IFDEF DoDi}
+  {$ELSE}
     ControlDocker: TLazControlDocker;
+  {$ENDIF}
     OptionsBitBtn: TSpeedButton;
     RemoveBitBtn: TSpeedButton;
     procedure AddBitBtnClick(Sender: TObject);
@@ -490,7 +493,8 @@
     end;
     FilesNode.Expanded:=true;
     Tree.Free;
-  end else begin
+  end else if assigned(FilesNode) then begin
+    { TODO 1 : FilesNode may be nil }
     // delete file nodes
     FilesNode.HasChildren:=false;
   end;
@@ -532,7 +536,8 @@
       CurNode:=NextNode;
     end;
     DependenciesNode.Expanded:=true;
-  end else begin
+  end else if assigned(DependenciesNode) then begin
+    { TODO 1 : node maybe nil }
     // delete dependency nodes
     DependenciesNode.HasChildren:=false;
   end;
@@ -706,9 +711,9 @@
   KeyPreview:=true;
 
   EnvironmentOptions.IDEWindowLayoutList.Apply(Self,Name);
+  {$IFDEF EnableIDEDocking}
   ControlDocker:=TLazControlDocker.Create(Self);
   ControlDocker.Name:='ProjectInspector';
-  {$IFDEF EnableIDEDocking}
   ControlDocker.Manager:=LazarusIDE.DockingManager;
   {$ENDIF}
 
Index: ide/sourceeditor.lfm
===================================================================
--- ide/sourceeditor.lfm	(revision 23296)
+++ ide/sourceeditor.lfm	(working copy)
@@ -10,8 +10,8 @@
   OnMouseUp = FormMouseUp
   object StatusBar: TStatusBar[0]
     Left = 0
-    Height = 23
-    Top = 277
+    Height = 20
+    Top = 280
     Width = 400
     Panels = <    
       item
Index: ide/sourceeditor.lrs
===================================================================
--- ide/sourceeditor.lrs	(revision 23296)
+++ ide/sourceeditor.lrs	(working copy)
@@ -5,7 +5,7 @@
   +','#1#3'Top'#3'v'#1#5'Width'#3#144#1#14'AllowDropFiles'#9#7'Caption'#6#14'So'
   +'urceNotebook'#12'ClientHeight'#3','#1#11'ClientWidth'#3#144#1#9'OnMouseUp'#7
   +#11'FormMouseUp'#0#242#2#0#10'TStatusBar'#9'StatusBar'#4'Left'#2#0#6'Height'
-  +#2#23#3'Top'#3#21#1#5'Width'#3#144#1#6'Panels'#14#1#5'Width'#2'd'#0#1#5'Widt'
+  +#2#20#3'Top'#3#24#1#5'Width'#3#144#1#6'Panels'#14#1#5'Width'#2'd'#0#1#5'Widt'
   +'h'#3#150#0#0#1#5'Width'#2'2'#0#1#4'Text'#6#3'INS'#5'Width'#2'2'#0#0#10'Simp'
   +'leText'#6#14'This is a test'#11'SimplePanel'#8#10'OnDblClick'#7#17'StatusBa'
   +'rDblClick'#0#0#0
Index: ide/sourceeditor.pp
===================================================================
--- ide/sourceeditor.pp	(revision 23296)
+++ ide/sourceeditor.pp	(working copy)
@@ -43,7 +43,11 @@
   Classes, SysUtils, Math, Controls, LCLProc, LCLType, LResources, LCLIntf,
   FileUtil, Forms, Buttons, ComCtrls, Dialogs, StdCtrls, GraphType, Graphics,
   Translations, ClipBrd, TypInfo, types, Extctrls, Menus, HelpIntfs,
-  LazHelpIntf, LConvEncoding, LDockCtrl,
+  LazHelpIntf, LConvEncoding,
+{$IFDEF DoDi}
+{$ELSE}
+  LDockCtrl,
+{$ENDIF}
   // codetools
   BasicCodeTools, CodeBeautifier, CodeToolManager, CodeCache, SourceLog,
   // synedit
@@ -713,7 +717,10 @@
   public
     FindReplaceDlgHistoryIndex: array[TFindDlgComponent] of integer;
     FindReplaceDlgUserText: array[TFindDlgComponent] of string;
+    {$IFDEF EnableIdeDocking}
     ControlDocker: TLazControlDocker;
+    {$ELSE}
+    {$ENDIF}
 
     constructor Create(AOwner: TComponent); override;
     destructor Destroy; override;
@@ -3539,9 +3546,9 @@
   SourceEditorWindow:=Self;
 
   EnvironmentOptions.IDEWindowLayoutList.Apply(Self,Name);
+  {$IFDEF EnableIDEDocking}
   ControlDocker:=TLazControlDocker.Create(Self);
   ControlDocker.Name:='SourceEditor';
-  {$IFDEF EnableIDEDocking}
   ControlDocker.Manager:=LazarusIDE.DockingManager;
   {$ENDIF}
 
@@ -6128,7 +6135,10 @@
 
 procedure TSourceNotebook.DockingClicked(Sender: TObject);
 begin
+  {$IFDEF EnableIdeDocking}
   ControlDocker.ShowDockingEditor;
+  {$ELSE}
+  {$ENDIF}
 end;
 
 {This is called from outside to toggle a bookmark}
Index: ideintf/lazideintf.pas
===================================================================
--- ideintf/lazideintf.pas	(revision 23296)
+++ ideintf/lazideintf.pas	(working copy)
@@ -23,7 +23,8 @@
 
 uses
   Classes, SysUtils, LCLProc, Forms, Controls, Dialogs, PropEdits, LazHelpHTML,
-  IDEExternToolIntf, IDEOptionsIntf, ProjectIntf, SrcEditorIntf, LDockCtrl;
+  IDEExternToolIntf, IDEOptionsIntf, ProjectIntf, SrcEditorIntf
+  {$IFDEF dodi}  {$ELSE} , LDockCtrl {$ENDIF} ;
 
 type
   // open file flags
@@ -150,7 +151,9 @@
                             const AMethod: TMethod);
   protected
     fOwningComponent: TComponent;
+  {$IFDEF EnableIdeDocking}
     FDockingManager: TLazDockingManager;
+  {$ENDIF}
 
     function GetActiveProject: TLazProject; virtual; abstract;
     procedure DoCallNotifyHandler(HandlerType: TLazarusIDEHandlerType);
@@ -167,7 +170,9 @@
     // the main window with the IDE menu
     function GetMainBar: TComponent; virtual; abstract;
     property MainBarSubTitle: string read FMainBarSubTitle write SetMainBarSubTitle;
+  {$IFDEF EnableIdeDocking}
     property DockingManager: TLazDockingManager read FDockingManager;
+  {$ENDIF}
 
     // find file
     function FindUnitFile(const AFilename: string): string; virtual; abstract;
Index: ideintf/objectinspector.lfm
===================================================================
--- ideintf/objectinspector.lfm	(revision 23296)
+++ ideintf/objectinspector.lfm	(working copy)
@@ -2,18 +2,18 @@
   Left = 292
   Height = 669
   Top = 175
-  Width = 275
+  Width = 292
   Caption = 'ObjectInspectorDlg'
   ClientHeight = 669
-  ClientWidth = 275
+  ClientWidth = 292
   KeyPreview = True
   OnResize = ObjectInspectorResize
   LCLVersion = '0.9.29'
   object StatusBar: TStatusBar
     Left = 0
-    Height = 23
-    Top = 646
-    Width = 275
+    Height = 20
+    Top = 649
+    Width = 292
     Panels = <    
       item
         Width = 100
@@ -27,8 +27,9 @@
     Left = 0
     Height = 21
     Top = 0
-    Width = 275
-    Align = alTop
+    Width = 268
+    Anchors = [akTop, akLeft, akRight]
+    DragKind = dkDock
     ItemHeight = 13
     OnCloseUp = AvailComboBoxCloseUp
     Style = csDropDownList
Index: ideintf/objectinspector.lrs
===================================================================
--- ideintf/objectinspector.lrs	(revision 23296)
+++ ideintf/objectinspector.lrs	(working copy)
@@ -2,14 +2,14 @@
 
 LazarusResources.Add('TObjectInspectorDlg','FORMDATA',[
   'TPF0'#19'TObjectInspectorDlg'#18'ObjectInspectorDlg'#4'Left'#3'$'#1#6'Height'
-  +#3#157#2#3'Top'#3#175#0#5'Width'#3#19#1#7'Caption'#6#18'ObjectInspectorDlg'
-  +#12'ClientHeight'#3#157#2#11'ClientWidth'#3#19#1#10'KeyPreview'#9#8'OnResize'
+  +#3#157#2#3'Top'#3#175#0#5'Width'#3'$'#1#7'Caption'#6#18'ObjectInspectorDlg'
+  +#12'ClientHeight'#3#157#2#11'ClientWidth'#3'$'#1#10'KeyPreview'#9#8'OnResize'
   +#7#21'ObjectInspectorResize'#10'LCLVersion'#6#6'0.9.29'#0#10'TStatusBar'#9'S'
-  +'tatusBar'#4'Left'#2#0#6'Height'#2#23#3'Top'#3#134#2#5'Width'#3#19#1#6'Panel'
+  +'tatusBar'#4'Left'#2#0#6'Height'#2#20#3'Top'#3#137#2#5'Width'#3'$'#1#6'Panel'
   +'s'#14#1#5'Width'#2'd'#0#1#5'Width'#2'2'#0#0#11'SimplePanel'#8#0#0#9'TComboB'
   +'ox'#23'AvailPersistentComboBox'#4'Left'#2#0#6'Height'#2#21#3'Top'#2#0#5'Wid'
-  +'th'#3#19#1#5'Align'#7#5'alTop'#10'ItemHeight'#2#13#9'OnCloseUp'#7#20'AvailC'
-  +'omboBoxCloseUp'#5'Style'#7#14'csDropDownList'#8'TabOrder'#2#0#0#0#10'TPopup'
-  +'Menu'#13'MainPopupMenu'#7'OnPopup'#7#20'OnMainPopupMenuPopup'#4'left'#2#8#3
-  +'top'#2#11#0#0#0
+  +'th'#3#12#1#7'Anchors'#11#5'akTop'#6'akLeft'#7'akRight'#0#8'DragKind'#7#6'dk'
+  +'Dock'#10'ItemHeight'#2#13#9'OnCloseUp'#7#20'AvailComboBoxCloseUp'#5'Style'#7
+  +#14'csDropDownList'#8'TabOrder'#2#0#0#0#10'TPopupMenu'#13'MainPopupMenu'#7'O'
+  +'nPopup'#7#20'OnMainPopupMenuPopup'#4'left'#2#8#3'top'#2#11#0#0#0
 ]);
Index: JCFSettings.cfg
===================================================================
--- JCFSettings.cfg	(revision 23296)
+++ JCFSettings.cfg	(working copy)
@@ -1,7 +1,7 @@
 <?xml version="1.0" ?>
 <JediCodeFormatSettings>
     <WriteVersion> 2.44 </WriteVersion>
-    <WriteDateTime> 40160.959233287 </WriteDateTime>
+    <WriteDateTime> 40174.4210324421 </WriteDateTime>
     <Description> format settings for use with Lazarus </Description>
   <Obfuscate>
       <Enabled> False </Enabled>
Index: lcl/include/control.inc
===================================================================
--- lcl/include/control.inc	(revision 23296)
+++ lcl/include/control.inc	(working copy)
@@ -114,7 +114,9 @@
 begin
   if (NewDockSite = nil) then Parent := nil;
   if NewDockSite<>nil then begin
+    {$IFDEF VerboseDrag}
     DebugLn('TControl.DoDock BEFORE Adjusting ',Name,' ',dbgs(ARect));
+    {$ENDIF}
     // adjust new bounds, so that they at least fit into the client area of
     // its parent
     LCLProc.MoveRectToFit(ARect, NewDockSite.GetLogicalClientRect);
@@ -125,14 +127,18 @@
       alRight: OffsetRect(ARect,NewDockSite.ClientWidth-ARect.Right,0);
       alBottom: OffsetRect(ARect,0,NewDockSite.ClientHeight-ARect.Bottom);
     end;
+    {$IFDEF VerboseDrag}
     DebugLn('TControl.DoDock AFTER Adjusting ',Name,' ',dbgs(ARect),' Align=',AlignNames[Align],' NewDockSite.ClientRect=',dbgs(NewDockSite.ClientRect));
+    {$ENDIF}
   end;
   //debugln('TControl.DoDock BEFORE MOVE ',Name,' BoundsRect=',dbgs(BoundsRect),' NewRect=',dbgs(ARect));
   if Parent<>NewDockSite then
     BoundsRectForNewParent := ARect
   else
     BoundsRect := ARect;
+  {$IFDEF VerboseDrag}
   debugln('TControl.DoDock AFTER MOVE ',Name,' BoundsRect=',dbgs(BoundsRect),' TriedRect=',dbgs(ARect));
+  {$ENDIF}
 end;
 
 {------------------------------------------------------------------------------
@@ -3918,7 +3924,9 @@
       NewBounds.TopLeft:=ControlOrigin;
     end;
     NewBounds := Bounds(NewBounds.Left,NewBounds.Top,UndockWidth,UndockHeight);
+    {$IFDEF VerboseDrag}
     DebugLn('TControl.ManualDock ',Name,' NewDockSite=nil HostDockSiteManagerAvailable=',dbgs(HostDockSiteManagerAvailable(HostDockSite)),' NewBounds=',dbgs(NewBounds));
+    {$ENDIF}
     Result := ManualFloat(NewBounds);
   end
   else
@@ -3932,12 +3940,16 @@
       // - this only undocks from the DockManager
       // - this control still uses the DockSite as parent control
       { TODO -cdocking : Combine with ManualFloat, for consistent handling }
+      {$IFDEF VerboseDrag}
       DebugLn('TControl.ManualDock UNDOCKING ',Name);
+      {$ENDIF}
       Result:=HostDockSite.DoUndock(NewDockSite,Self);
     end;
     
     if Result then begin
+      {$IFDEF VerboseDrag}
       DebugLn('TControl.ManualDock DOCKING ',Name);
+      {$ENDIF}
       // create TDragDockObject for docking parameters
       DockObject := TDragDockObject.Create(Self);
       try
@@ -3954,7 +3966,9 @@
         // map from screen coordinates to new HostSite coordinates
         NewPosition:=NewDockSite.ScreenToClient(NewPosition);
         // DockDrop
+        {$IFDEF VerboseDrag}
         DebugLn('TControl.ManualDock DOCKDROP ',Name,' DockRect=',dbgs(DockObject.DockRect),' NewPos=',dbgs(NewPosition));
+        {$ENDIF}
         NewDockSite.DockDrop(DockObject,NewPosition.X,NewPosition.Y);
       finally
         DockObject.Free;
@@ -3976,7 +3990,9 @@
 var
   FloatHost: TWinControl;
 begin
+  {$IFDEF VerboseDrag}
   DebugLn(['TControl.ManualFloat ',DbgSName(Self)]);
+  {$ENDIF}
   // undock from old host dock site
   if HostDockSite = nil then
   begin
Index: lcl/include/toolbutton.inc
===================================================================
--- lcl/include/toolbutton.inc	(revision 23296)
+++ lcl/include/toolbutton.inc	(working copy)
@@ -314,6 +314,7 @@
     begin
       // if toolbar is not flat then normal and disabled state is drawn as hot
       TempDetails := Details;
+    { TODO : bad effect on gtk2 - appearance should be reversed there }
       if ((FToolBar <> nil) and not FToolBar.Flat) and (TempDetails.State in [1, 4]) then
         TempDetails.State := 2;
 
Index: lcl/include/wincontrol.inc
===================================================================
--- lcl/include/wincontrol.inc	(revision 23296)
+++ lcl/include/wincontrol.inc	(working copy)
@@ -3742,7 +3742,7 @@
         Result := LRESULT(TargetControl);
       end;
     else
-      Result := inherited;
+      Result := inherited DoDragMsg(ADragMessage, APosition, ADragObject, ATarget, ADocking);
   end;
 end;
 
@@ -5159,7 +5159,9 @@
 procedure TWinControl.DoRemoveDockClient(Client: TControl);
 begin
   // empty (this method exists for descendent overrides)
+  {$IFDEF VerboseDrag}
   DebugLn(['TWinControl.DoRemoveDockClient ',DbgSName(Self),' ',DbgSName(Client)]);
+  {$ENDIF}
 end;
 
 {------------------------------------------------------------------------------
@@ -5171,7 +5173,9 @@
 var
   NewBounds: TRect;
 begin
+  {$IFDEF VerboseDrag}
   DebugLn('TWinControl.DoUnDock ',Name,' NewTarget=',DbgSName(NewTarget),' Client=',DbgSName(Client));
+  {$ENDIF}
   Result := True;
   if Assigned(FOnUnDock) then
   begin
@@ -7529,7 +7533,9 @@
 function TWinControl.DoUnDockClientMsg(NewTarget, Client: TControl): boolean;
 begin
   Result := True;
+  {$IFDEF VerboseDrag}
   DebugLn(['TWinControl.DoUnDockClientMsg ',DbgSName(Self),' ',DbgSName(Client),' ',DbgSName(Client.Parent)]);
+  {$ENDIF}
   if FUseDockManager and (DockManager <> nil) then
     DockManager.RemoveControl(Client);
 end;
